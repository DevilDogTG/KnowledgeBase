@import "jekyll-theme-modernist";

/* Honor user's color scheme preference */
:root { color-scheme: light dark; }
html[data-theme="dark"] { color-scheme: dark; }
html[data-theme="light"] { color-scheme: light; }

/* Dark mode overrides (system preference) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) html,
  :root:not([data-theme="light"]) body {
    background-color: #0d1117; color: #c9d1d9;
  }
  :root:not([data-theme="light"]) a { color: #58a6ff; }
  :root:not([data-theme="light"]) a:visited { color: #8ab4f8; }

  :root:not([data-theme="light"]) header,
  :root:not([data-theme="light"]) .site-header,
  :root:not([data-theme="light"]) .page-header,
  :root:not([data-theme="light"]) .site-nav,
  :root:not([data-theme="light"]) nav,
  :root:not([data-theme="light"]) footer,
  :root:not([data-theme="light"]) .site-footer { background: #0b1220; border-color: #30363d; }
  :root:not([data-theme="light"]) .site-title,
  :root:not([data-theme="light"]) .site-description { color: #c9d1d9; }

  :root:not([data-theme="light"]) h1,
  :root:not([data-theme="light"]) h2,
  :root:not([data-theme="light"]) h3,
  :root:not([data-theme="light"]) h4,
  :root:not([data-theme="light"]) h5,
  :root:not([data-theme="light"]) h6 { color: #e6edf3; }

  :root:not([data-theme="light"]) code,
  :root:not([data-theme="light"]) pre { background: #161b22; color: #c9d1d9; border-color: #30363d; }
  :root:not([data-theme="light")] pre.highlight { background: #161b22; }

  :root:not([data-theme="light"]) table { background: #0d1117; border-color: #30363d; }
  :root:not([data-theme="light"]) th,
  :root:not([data-theme="light"]) td { border-color: #30363d; }

  :root:not([data-theme="light"]) blockquote { color: #a6b3c3; border-left-color: #30363d; }
  :root:not([data-theme="light"]) hr { border-color: #30363d; }
}

/* Dark mode overrides (forced via toggle) */
html[data-theme="dark"],
html[data-theme="dark"] body { background-color: #0d1117; color: #c9d1d9; }
html[data-theme="dark"] a { color: #58a6ff; }
html[data-theme="dark"] a:visited { color: #8ab4f8; }

html[data-theme="dark"] header,
html[data-theme="dark"] .site-header,
html[data-theme="dark"] .page-header,
html[data-theme="dark"] .site-nav,
html[data-theme="dark"] nav,
html[data-theme="dark"] footer,
html[data-theme="dark"] .site-footer { background: #0b1220; border-color: #30363d; }
html[data-theme="dark"] .site-title,
html[data-theme="dark"] .site-description { color: #c9d1d9; }

html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3,
html[data-theme="dark"] h4,
html[data-theme="dark"] h5,
html[data-theme="dark"] h6 { color: #e6edf3; }

html[data-theme="dark"] code,
html[data-theme="dark"] pre { background: #161b22; color: #c9d1d9; border-color: #30363d; }
html[data-theme="dark"] pre.highlight { background: #161b22; }

html[data-theme="dark"] table { background: #0d1117; border-color: #30363d; }
html[data-theme="dark"] th,
html[data-theme="dark"] td { border-color: #30363d; }

html[data-theme="dark"] blockquote { color: #a6b3c3; border-left-color: #30363d; }
html[data-theme="dark"] hr { border-color: #30363d; }

/* Dark syntax highlighting tweaks (Rouge/CodeRay tokens) */
html[data-theme="dark"] .highlight { background: #161b22; color: #c9d1d9; }
html[data-theme="dark"] .highlight .c { color: #8b949e; font-style: italic; } /* Comment */
html[data-theme="dark"] .highlight .k { color: #ff7b72; } /* Keyword */
html[data-theme="dark"] .highlight .s { color: #a5d6ff; } /* String */
html[data-theme="dark"] .highlight .na,
html[data-theme="dark"] .highlight .nf { color: #d2a8ff; } /* Name, Function */
html[data-theme="dark"] .highlight .nb,
html[data-theme="dark"] .highlight .bp { color: #79c0ff; } /* Builtin, Builtin.Pseudo */
html[data-theme="dark"] .highlight .nt,
html[data-theme="dark"] .highlight .nc { color: #7ee787; } /* Tag, Class */
html[data-theme="dark"] .highlight .m { color: #79c0ff; } /* Number */

/* Theme toggle button */
.theme-toggle {
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 1000;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid #d0d7de;
  background: #ffffff;
  color: #24292f;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(27,31,35,0.1), 0 1px 1px rgba(27,31,35,0.06);
}
html[data-theme="dark"] .theme-toggle {
  border-color: #30363d;
  background: #161b22;
  color: #c9d1d9;
  box-shadow: 0 1px 2px rgba(1,4,9,0.3), 0 1px 1px rgba(1,4,9,0.15);
}
